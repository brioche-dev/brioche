[workspace]
members = ["crates/brioche", "crates/brioche-ld", "crates/brioche-pack", "crates/brioche-packed-exec", "crates/brioche-packed-userland-exec"]
default-members = ["crates/brioche"]
resolver = "2"

[profile.release-tiny]
inherits = "release"
opt-level = "z"
lto = true
codegen-units = 1
strip = "symbols"
panic = "abort"

# Like `release-tiny`, but with debug info needed for `cargo bloat`
[profile.release-tiny-bloat]
inherits = "release-tiny"
strip = "debuginfo"
